<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lazarus Exchange</title>
  <link rel="stylesheet" href="/style.css" />
  <link rel="icon" href="/favicon.ico" sizes="any" />
</head>

<body>
  <main id="terminal" class="shell">
    <div class="window-bar">
      <div class="window-controls" aria-hidden="true">
        <span class="dot dot-red"></span>
        <span class="dot dot-amber"></span>
        <span class="dot dot-green"></span>
      </div>
      <span class="window-title">root@lazarus: ./exchange --secure --live</span>
    </div>

    <header class="mast">
      <div class="brand">
        <p class="bootline">
          <span class="boot-prompt">root@lazarus:~$</span>
          <span class="boot-command">init handshake --mode fair-exchange</span>
        </p>
        <h1 class="title">Lazarus Exchange</h1>
        <p class="tagline">
          Two-party exchange. Upload on both sides, validate on both sides, then unlock download.
        </p>
      </div>

      <div class="meta">
        <div class="meta-item">
          <span class="meta-label">SESSION</span>
          <span id="sessionIdDisplay" class="meta-value"></span>
        </div>
        <div class="meta-item">
          <span class="meta-label">YOU</span>
          <span id="youDisplay" class="meta-value"></span>
        </div>
      </div>
    </header>

    <div class="grid">
      <section class="panel">
        <div class="panel-title">
          <h2>01. Pair Link</h2>
        </div>
        <p class="hint">Share this link with your partner to join your secure channel.</p>
        <div class="input-row">
          <input id="shareLink" readonly />
          <button class="btn btn-primary btn-copy" onclick="copySessionLink()">COPY</button>
        </div>
      </section>

      <section class="panel">
        <div class="panel-title">
          <h2>02. Payload</h2>
        </div>
        <label class="field">File to send</label>
        <input id="fileInput" type="file" />
        <div class="actions">
          <button class="btn btn-upload" onclick="upload()">UPLOAD</button>
          <button class="btn btn-preview" onclick="preview()">PREVIEW</button>
        </div>
      </section>

      <section class="panel">
        <div class="panel-title">
          <h2>03. Validation</h2>
        </div>
        <div class="actions">
          <button class="btn btn-validate" onclick="validate()">VALIDATE</button>
          <button class="btn btn-download" onclick="download()">DOWNLOAD</button>
          <button class="btn btn-reset" onclick="resetSession()">RESET</button>
        </div>
        <p class="hint">Each user validates before download.</p>
      </section>

      <section class="panel panel-status">
        <div class="panel-title">
          <h2>Console</h2>
          <span class="live">LIVE</span>
        </div>
        <pre id="statusBox">Connecting<span class="cursor">â–ˆ</span></pre>
      </section>
    </div>

    <footer class="footer">
      <span>No account. Ephemeral session. JWT in Authorization header only.</span>
      <span class="pulse">READY</span>
    </footer>

    <output id="toast" class="toast" role="status" aria-live="polite"></output>
  </main>

  <script type="module" src="/script.js"></script>
</body>

</html>
